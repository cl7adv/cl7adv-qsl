<script>
  function buscarQSL() {
    const indicativo = document.getElementById("indicativo").value.trim().toUpperCase();
    const ruta = `img/${indicativo}.jpg`;
    const resultado = document.getElementById("resultado");

    // Crear imagen temporal para verificar si existe
    const img = new Image();
    img.src = ruta;

    img.onload = function() {
      // Si existe, mostrarla
      resultado.innerHTML = `
        <img src="${ruta}" alt="QSL de ${indicativo}">
        <br>
        <a href="${ruta}" download>⬇️ Descargar QSL</a>
      `;
    };

    img.onerror = function() {
      // Si NO existe, mostrar mensaje y limpiar después
      resultado.innerHTML = `
        <p style="color:red;font-size:1.3em;margin-top:20px;">
          ❌ No se encontró una QSL para <strong>${indicativo}</strong>
        </p>
      `;

      // Volver al estado inicial después de 3 segundos
      setTimeout(() => {
        resultado.innerHTML = "";
        document.getElementById("indicativo").value = "";
      }, 3000);
    };
  }
</script>
